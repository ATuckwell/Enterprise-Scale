{
  "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "input": {
      "value": {
        "Name": "DINE-AzMon",
        "ResourceId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policySetDefinitions/DINE-AzMon",
        "ResourceName": "DINE-AzMon",
        "ResourceType": "Microsoft.Authorization/policySetDefinitions",
        "SubscriptionId": null,
        "PolicySetDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policySetDefinitions/DINE-AzMon",
        "Properties": {
          "Description": "Connects various Azure resource types to Azure Monitor Log Analytics for the gathering of metric and logs",
          "DisplayName": "DINE-AzMon",
          "Parameters": {
            "logAnalytics": {
              "type": "String",
              "metadata": {
                "displayName": "Log Analyitcs workspace",
                "strongType": "omsWorkspace"
              },
              "allowedValues": [
                "/subscriptions/832d2ee6-742b-4789-a57e-00bf5013fdc0/resourceGroups/operations-eu/providers/Microsoft.OperationalInsights/workspaces/c-loganalytics-eu"
              ]
            }
          },
          "PolicyDefinitionGroups": null,
          "PolicyDefinitions": [
            {
              "policyDefinitionReferenceId": "12195887802126275302",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonACI",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "17147010626115937533",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonACR",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "283537686566764211",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonADF",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "16828006335345171287",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonADLA",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "7893574873135673102",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonADLS",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "10661251344129828706",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonAKS",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "5914961181371996838",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonAppGW",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "15080340507942221385",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonAS",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "43429383283530091",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonASA",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "977633626982153181",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonAutomation",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "3547636131147011646",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonBackup",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "16345989394785911108",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonBatch",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "17431594559340550789",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonCognitive",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "11863871030266273320",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonCosmos",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "3266202644060853395",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonDNS",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "10563779976487194909",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonEGExtensionTopics",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "1000045887719058368",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonEGSubscription",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "7803837509105100707",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonEGTopics",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "3976126972698112550",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonEHClusters",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "5301302378462754497",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonEHNamespace",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "10686964338986632067",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonER",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "15953091126167715358",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonHDInisght",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "15059845657882016508",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonIoT",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "73682663350954626",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonIoTPoS",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "8433251275609938800",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonKV",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "17645734162360874366",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonLB",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "13857188207191626843",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonLogicApp",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "10485166868050191980",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonLogicIA",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "6747579723556607049",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonMySQL",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "597835371151638258",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonNIC",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "15659810608548784901",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonNsg",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "11204095955448207195",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonPiP",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "14117548002203230528",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonPostGresSQL",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "4956323719118307428",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonRedis",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "17118316270630693366",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonRelay",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "18136374154749261118",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonSB",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "4566789573909569605",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonSearch",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "5729125055007030888",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonSignalR",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "8590593814947641779",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonSql",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "8964094718540607182",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonSqlAS",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "10033847692436679486",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonTM",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "2028526387243318029",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonVNet",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "14259600765173874301",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonVNetGW",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "10694113363391058258",
              "policyDefinitionId": "/providers/Microsoft.Management/managementgroups/cyrus/providers/Microsoft.Authorization/policyDefinitions/DINE-AzMonWebSites",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            }
          ]
        }
      }
    }
  }
}
